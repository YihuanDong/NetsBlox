<blocks app="NetsBlox 0.14.2, http://netsblox.org" version="1"><block-definition collabId="item_22_60" s="weather icon for %&apos;lat&apos; , %&apos;lng&apos;" type="reporter" category="looks"><header></header><code></code><inputs><input type="%s"></input><input type="%s"></input></inputs><script><block collabId="item_22_61" s="doReport"><block collabId="item_22_62" s="getCostumeFromRPC"><l>weather</l><l>icon</l><block collabId="item_22_63" s="reportJoinWords"><list><l>lat=</l><block collabId="item_22_64" var="lat"/><l>&amp;lng=</l><block collabId="item_22_65" var="lng"/></list></block></block></block></script></block-definition><block-definition collabId="item_22_66" s="update map" type="command" category="looks"><header></header><code></code><inputs></inputs><script><block collabId="item_22_67" s="doSetVar"><l>delta</l><block collabId="item_22_69" s="reportQuotient"><l>320</l><custom-block collabId="item_22_70" s="%s exp %s"><l>2</l><block collabId="item_22_76" var="zoom"/></custom-block></block></block><block collabId="item_22_68" s="doSwitchToCostume"><custom-block collabId="item_22_72" s="map of %s , %s with zoom %s"><block collabId="item_22_73" var="latitude"/><block collabId="item_22_74" var="longitude"/><block collabId="item_22_75" var="zoom"/></custom-block></block><block collabId="item_22_71" s="doBroadcast"><l>map updated</l></block></script></block-definition><block-definition collabId="item_22_77" s="change map latitude by %&apos;shift&apos;" type="command" category="looks"><header></header><code></code><inputs><input type="%s"></input></inputs><script><block collabId="item_22_78" s="doDeclareVariables"><list><l>flip</l></list></block><block collabId="item_22_79" s="doIfElse"><block collabId="item_22_81" s="reportLessThan"><l>0</l><block collabId="item_22_84" var="longitude"/></block><script><block collabId="item_22_82" s="doSetVar"><l>flip</l><l>-1</l></block></script><script><block collabId="item_22_83" s="doSetVar"><l>flip</l><l>1</l></block></script></block><block collabId="item_22_80" s="doChangeVar"><l>latitude</l><block collabId="item_22_86" var="shift"/></block><block collabId="item_22_85" s="doIf"><block collabId="item_22_88" s="reportLessThan"><l>90</l><block collabId="item_22_92" var="latitude"/></block><script><block collabId="item_22_89" s="doSetVar"><l>latitude</l><block collabId="item_22_91" s="reportDifference"><l>180</l><block collabId="item_22_99" var="latitude"/></block></block><block collabId="item_22_90" s="doSetVar"><l>longitude</l><block collabId="item_22_100" s="reportProduct"><block collabId="item_22_101" var="flip"/><block collabId="item_22_102" s="reportDifference"><l>180</l><block collabId="item_22_107" s="reportMonadic"><l><option>abs</option></l><block collabId="item_22_108" var="longitude"/></block></block></block></block></script></block><block collabId="item_22_87" s="doIf"><block collabId="item_22_94" s="reportLessThan"><block collabId="item_22_98" var="latitude"/><l>-90</l></block><script><block collabId="item_22_95" s="doSetVar"><l>latitude</l><block collabId="item_22_97" s="reportDifference"><l>-180</l><block collabId="item_22_103" var="latitude"/></block></block><block collabId="item_22_96" s="doSetVar"><l>longitude</l><block collabId="item_22_104" s="reportProduct"><block collabId="item_22_105" var="flip"/><block collabId="item_22_106" s="reportDifference"><l>180</l><block collabId="item_22_109" s="reportMonadic"><l><option>abs</option></l><block collabId="item_22_110" var="longitude"/></block></block></block></block></script></block><custom-block collabId="item_22_93" s="update map"></custom-block></script></block-definition><block-definition collabId="item_22_111" s="change map longitude by %&apos;shift&apos;" type="command" category="looks"><header></header><code></code><inputs><input type="%s"></input></inputs><script><block collabId="item_22_112" s="doChangeVar"><l>longitude</l><block collabId="item_22_114" var="shift"/></block><block collabId="item_22_113" s="doDeclareVariables"><list><l>overflow</l></list></block><block collabId="item_22_115" s="doIf"><block collabId="item_22_117" s="reportLessThan"><block collabId="item_22_121" var="longitude"/><l>-180</l></block><script><block collabId="item_22_118" s="doSetVar"><l>overflow</l><block collabId="item_22_120" s="reportMonadic"><l><option>abs</option></l><block collabId="item_22_128" s="reportSum"><l>180</l><block collabId="item_22_131" var="longitude"/></block></block></block><block collabId="item_22_119" s="doSetVar"><l>longitude</l><block collabId="item_22_129" s="reportDifference"><l>180</l><block collabId="item_22_130" var="overflow"/></block></block></script></block><block collabId="item_22_116" s="doIf"><block collabId="item_22_123" s="reportLessThan"><l>180</l><block collabId="item_22_127" var="longitude"/></block><script><block collabId="item_22_124" s="doSetVar"><l>overflow</l><block collabId="item_22_126" s="reportDifference"><block collabId="item_22_132" var="longitude"/><l>180</l></block></block><block collabId="item_22_125" s="doSetVar"><l>longitude</l><block collabId="item_22_133" s="reportSum"><l>-180</l><block collabId="item_22_134" var="overflow"/></block></block></script></block><custom-block collabId="item_22_122" s="update map"></custom-block></script></block-definition><block-definition collabId="item_22_153" s="draw circle (radius: %&apos;radius&apos; )" type="command" category="pen"><header></header><code></code><inputs><input type="%s"></input></inputs><script><block collabId="item_22_154" s="doSwitchToCostume"><l>redCircle</l></block><block collabId="item_22_155" s="setScale"><block collabId="item_22_157" s="reportProduct"><block collabId="item_22_158" var="radius"/><l>10</l></block></block><block collabId="item_22_156" s="show"></block><block collabId="item_22_159" s="doStamp"></block></script></block-definition><block-definition collabId="item_0_228" s="stop msgs" type="command" category="services"><header></header><code></code><inputs></inputs><script><block collabId="item_0_223" s="doReport"><block collabId="item_0_222" s="getJSFromRPCStruct"><l>waterwatch</l><l>stop</l></block></block></script></block-definition><block-definition collabId="item_2_142" s="map left" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block collabId="item_2_137" s="doReport"><block collabId="item_2_136" s="getJSFromRPCStruct"><l>staticmap</l><l>minLongitude</l></block></block></script></block-definition><block-definition collabId="item_2_133" s="map top" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block collabId="item_2_128" s="doReport"><block collabId="item_2_127" s="getJSFromRPCStruct"><l>staticmap</l><l>maxLatitude</l></block></block></script></block-definition><block-definition collabId="item_2_124" s="map right" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block collabId="item_2_119" s="doReport"><block collabId="item_2_118" s="getJSFromRPCStruct"><l>staticmap</l><l>maxLongitude</l></block></block></script></block-definition><block-definition collabId="item_2_115" s="map bottom" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block collabId="item_2_110" s="doReport"><block collabId="item_2_109" s="getJSFromRPCStruct"><l>staticmap</l><l>minLatitude</l></block></block></script></block-definition><block-definition collabId="item_2_106" s="mouse latitude" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block collabId="item_2_101" s="doReport"><block collabId="item_2_100" s="getJSFromRPCStruct"><l>staticmap</l><l>getLatitude</l><block collabId="item_2_97" s="reportMouseY"></block></block></block></script></block-definition><block-definition collabId="item_2_96" s="mouse longitude" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block collabId="item_2_91" s="doReport"><block collabId="item_2_90" s="getJSFromRPCStruct"><l>staticmap</l><l>getLongitude</l><block collabId="item_2_87" s="reportMouseX"></block></block></block></script></block-definition><block-definition collabId="item_2_86" s="longitude $arrowRight x of %&apos;lng&apos;" type="reporter" category="operators"><header></header><code></code><inputs><input type="%s"></input></inputs><script><block collabId="item_2_80" s="doReport"><block collabId="item_2_79" s="getJSFromRPCStruct"><l>staticmap</l><l>getXFromLongitude</l><block collabId="item_2_76" var="lng"/></block></block></script></block-definition><block-definition collabId="item_2_75" s="latitude $arrowRight y of %&apos;lat&apos;" type="reporter" category="operators"><header></header><code></code><inputs><input type="%s"></input></inputs><script><block collabId="item_2_69" s="doReport"><block collabId="item_2_68" s="getJSFromRPCStruct"><l>staticmap</l><l>getYFromLatitude</l><block collabId="item_2_65" var="lat"/></block></block></script></block-definition><block-definition collabId="item_2_64" s="%&apos;num&apos; exp %&apos;power&apos;" type="reporter" category="operators"><header></header><code></code><inputs><input type="%s"></input><input type="%s"></input></inputs><script><block collabId="item_2_57" s="doDeclareVariables"><list><l>result</l></list></block><block collabId="item_2_54" s="doSetVar"><l>result</l><l>1</l></block><block collabId="item_2_51" s="doRepeat"><block collabId="item_2_50" var="power"/><script><block collabId="item_2_48" s="doSetVar"><l>result</l><block collabId="item_2_46" s="reportProduct"><block collabId="item_2_45" var="result"/><block collabId="item_2_44" var="num"/></block></block></script></block><block collabId="item_2_43" s="doReport"><block collabId="item_2_42" var="result"/></block></script></block-definition><block-definition collabId="item_2_41" s="map of %&apos;lat&apos; , %&apos;lon&apos; with zoom %&apos;zoom&apos;" type="reporter" category="looks"><header></header><code></code><inputs><input type="%s"></input><input type="%s"></input><input type="%s"></input></inputs><script><block collabId="item_2_33" s="doReport"><block collabId="item_2_32" s="getJSFromRPCStruct"><l>staticmap</l><l>getMap</l><block collabId="item_2_29" var="lat"/><block collabId="item_2_28" var="lon"/><block collabId="item_2_27" s="reportStageWidth"></block><block collabId="item_2_26" s="reportStageHeight"></block><block collabId="item_2_25" var="zoom"/></block></block></script></block-definition><block-definition collabId="item_2_24" s="%&apos;longitude&apos; $arrowRight x" type="reporter" category="services"><header></header><code></code><inputs><input type="%s"></input></inputs><script><block collabId="item_2_18" s="doReport"><block collabId="item_2_17" s="getJSFromRPCStruct"><l>staticmap</l><l>getXFromLongitude</l><block collabId="item_2_14" var="longitude"/></block></block></script></block-definition><block-definition collabId="item_2_13" s="%&apos;latitude&apos; $arrowRight y" type="reporter" category="services"><header></header><code></code><inputs><input type="%s"></input></inputs><script><block collabId="item_2_7" s="doReport"><block collabId="item_2_6" s="getJSFromRPCStruct"><l>staticmap</l><l>getYFromLatitude</l><block collabId="item_2_3" var="latitude"/></block></block></script></block-definition><block-definition collabId="item_73_514" s="label %&apos;text&apos; of size %&apos;size&apos;" type="command" category="pen"><comment collabId="item_73_513" w="90" collapsed="false">LABEL will stamp text on the stage at the given font size. The direction of the text is the direction the sprite is facing, and color will match the pen color.</comment><header></header><code></code><inputs><input type="%txt">Hello!</input><input type="%n">12</input></inputs><script><block collabId="item_92" s="changeXPosition"><l>-20</l></block><block collabId="item_92_1" s="doRun"><block collabId="item_92_2" s="reportJSFunction"><list><l>text</l><l>size</l></list><l>var stage = this.parentThatIsA(StageMorph),&#xD;    context = stage.penTrails().getContext(&apos;2d&apos;),&#xD;    rotation = radians(this.direction() - 90),&#xD;    trans = new Point(&#xD;      this.center().x - stage.left(),&#xD;      this.center().y - stage.top()&#xD;    ),&#xD;    isWarped = this.Warped,&#xD;    len,&#xD;    pos;&#xD;&#xD;if (isWarped) {endWarp(); }&#xD;context.save();&#xD;context.font = size + &apos;px monospace&apos;;&#xD;context.textAlign = &apos;left&apos;;&#xD;context.textBaseline = &apos;alphabetic&apos;;&#xD;context.fillStyle = this.color.toString();&#xD;len = context.measureText(text).width;&#xD;trans = trans.multiplyBy(1 / stage.scale);&#xD;context.translate(trans.x, trans.y);&#xD;context.rotate(rotation);&#xD;context.fillText(text, 0, 0);&#xD;context.translate(-trans.x, -trans.y);&#xD;context.restore();&#xD;pos = new Point(&#xD;  len * Math.sin(radians(this.direction())),&#xD;  len * Math.cos(radians(this.direction())));&#xD;pos = pos.add(new Point(this.xPosition(), this.yPosition()));&#xD;this.gotoXY(pos.x, pos.y, false);&#xD;this.changed();&#xD;if (isWarped) {this.startWarp(); }&#xD;stage.changed();</l></block><list><block collabId="item_92_3" var="text"/><block collabId="item_92_4" var="size"/></list></block></script></block-definition><messageType><name>gageHeight</name><fields><field>siteName</field><field>latitude</field><field>longitude</field><field>ft</field></fields></messageType><messageType><name>streamFlow</name><fields><field>siteName</field><field>latitude</field><field>longitude</field><field>ft3/s</field></fields></messageType><messageType><name>waterTemp</name><fields><field>siteName</field><field>latitude</field><field>longitude</field><field>c</field></fields></messageType></blocks>